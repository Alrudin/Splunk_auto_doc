# Sample serverclass.conf
# Deployment Server configuration

[global]
# Global settings
restartSplunkWeb = false
restartSplunkd = true
stateOnClient = enabled

# Server class for production forwarders
[serverClass:production]
# Targeting
whitelist.0 = prod-hf-*.example.com
whitelist.1 = prod-uf-*.example.com
# Explicitly exclude test systems
blacklist.0 = *-test.example.com
# Restart settings
restartSplunkd = true
restartSplunkWeb = false

# Apps assigned to production
[serverClass:production:app:Splunk_TA_nix]
stateOnClient = enabled
restartSplunkd = true

[serverClass:production:app:TA-custom-app]
stateOnClient = enabled
# Continuation example for complex path
repositoryLocation = $SPLUNK_HOME/etc/deployment-apps/\\
TA-custom-app

# Server class for indexers
[serverClass:indexers]
whitelist.0 = idx-*.example.com
# Machine type filter
machineTypesFilter = linux-x86_64, linux-aarch64

[serverClass:indexers:app:cluster_config]
stateOnClient = enabled

# Server class for Universal Forwarders only
[serverClass:universal_forwarders]
whitelist.0 = uf-*.example.com
# Exclude heavy forwarders
blacklist.0 = hf-*.example.com

[serverClass:universal_forwarders:app:Splunk_TA_windows]
# Only deploy to Windows UFs
machineTypesFilter = windows-.*
stateOnClient = enabled

# Test server class with repeated whitelist (demonstrates ordering)
[serverClass:test]
whitelist.0 = test1.example.com
whitelist.1 = test2.example.com
whitelist.0 = test-new.example.com
# Last value for whitelist.0 is test-new.example.com

# Disabled server class
[serverClass:deprecated]
# This entire server class is disabled
whitelist.0 = *
stateOnClient = disabled
